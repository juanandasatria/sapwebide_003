/*
 * Copyright (C) 2009-2021 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["sap/ui/core/util/MockServer","rsh/eam/ordergantts1/localService/customMockRequests","rsh/eam/ordergantts1/localService/customMockRequestsForMaintenanceOrder"],function(M,C,c){"use strict";var m,o,_="rsh/eam/ordergantts1/",a=_+"localService/mockdata",b=_+"localService/mockdataMaintenanceOrder";return{init:function(){var u=jQuery.sap.getUriParameters(),j=jQuery.sap.getModulePath(a),s=jQuery.sap.getModulePath(_+"manifest",".json"),e="C_RSHOrdersAndOperations",E=u.get("errorType"),i=E==="badRequest"?400:500,d=jQuery.sap.syncGetJSON(s).data,f=d["sap.app"].dataSources.RSH_EAM_ORDER_GANTT_SRV,g=jQuery.sap.getModulePath(_+f.settings.localUri.replace(".xml",""),".xml"),h=/.*\/$/.test(f.uri)?f.uri:f.uri+"/";m=new M({rootUri:h});M.config({autoRespond:true,autoRespondAfter:(u.get("serverDelay")||1000)});if(u.get("journey")==="relationshipJourney"){a=_+"localService/mockdataRelationship";j=jQuery.sap.getModulePath(a);}m.simulate(g,{sMockdataBaseUrl:j,bGenerateMissingMockData:true});var k=C.getRequests(m.getRequests(),m);m.setProperty("requests",k);var r=k,R=function(q,t,v){v.response=function(x){x.respond(q,{"Content-Type":"text/plain;charset=utf-8"},t);};};if(u.get("metadataError")){r.forEach(function(q){if(q.path.toString().indexOf("$metadata")>-1){R(500,"metadata Error",q);}});}if(E){r.forEach(function(q){if(q.path.toString().indexOf(e)>-1){R(i,E,q);}});}if(u.get("journey")==="relationshipJourney"){var J=jQuery.sap.getModulePath(b),l=jQuery.sap.getModulePath(_+"localService/RSH_SB_MAINTENANCE_ORDER/metadata",".xml"),n="/sap/opu/odata/sap/RSH_SB_MAINTENANCE_ORDER/";o=new M({rootUri:n});o.simulate(l,{sMockdataBaseUrl:J,bGenerateMissingMockData:true});var p=c.getRequests(o.getRequests(),o);o.setProperty("requests",p);o.start();}m.start();jQuery.sap.log.info("Running the app with mock data");},getMockServer:function(){return m;}};});
